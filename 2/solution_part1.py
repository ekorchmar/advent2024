input = open("input.txt", "r").readlines(); to_ints = lambda string: list(map(int, string.split())); is_stable = lambda report: report in (sorted(report), sorted(report, reverse=True)); is_steady = lambda report: all(1 <= next-prev <= 3 for prev, next in zip(sorted(report)[:-1], sorted(report)[1:])); is_safe = lambda report: is_stable(report) and is_steady(report); print(sum(is_safe(to_ints(report_str)) for report_str in input))
